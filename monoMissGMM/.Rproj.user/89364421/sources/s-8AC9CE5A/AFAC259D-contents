library(Rcpp)
arma_code <- 
  'arma::mat arma_chol(const arma::mat& m) {
return arma::chol(m, "lower");
};'
arma_chol = cppFunction(code = arma_code, depends = "RcppArmadillo")

X = matrix(rnorm(12), nrow  =4)
S = t(X) %*% X

arma_chol(S)
